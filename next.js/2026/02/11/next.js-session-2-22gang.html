<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.27.3 by Michael Rose
  Copyright 2013-2025 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>[next.js] Context API - TabProvider를 활용한 홈 탭 상태관리 - Engineering Log</title>
<meta name="description" content="x.com의 로그인 후, 메인페이지를 보게 된다면 중앙에 ‘추천/팔로우’와 ‘내용’이 등장한다. 이때 추천/팔로우를 번갈아서 클릭 했을 때, 내용이 전환 될 필요가 존재한다.">



<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Engineering Log">
<meta property="og:title" content="[next.js] Context API - TabProvider를 활용한 홈 탭 상태관리">
<meta property="og:url" content="https://hwp-log.github.io/next.js/2026/02/11/next.js-session-2-22gang.html">


  <meta property="og:description" content="x.com의 로그인 후, 메인페이지를 보게 된다면 중앙에 ‘추천/팔로우’와 ‘내용’이 등장한다. 이때 추천/팔로우를 번갈아서 클릭 했을 때, 내용이 전환 될 필요가 존재한다.">







  <meta property="article:published_time" content="2026-02-11T00:00:00+00:00">






<link rel="canonical" href="https://hwp-log.github.io/next.js/2026/02/11/next.js-session-2-22gang.html">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Engineering Log Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <link rel="icon" type="image/png" href="/assets/images/favicon.png">

<style>
    /* 홈에서 Recent Posts 헤더 숨기기 */
    .layout--home h3.archive__subtitle {
        display: none !important;
    }
</style>
  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
          <a class="site-logo" href="/"><img src="/assets/images/logo.png" alt="Engineering Log"></a>
        
        <a class="site-title" href="/">
          Engineering Log
          
        </a>
        <ul class="visible-links"></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  


  <article class="page" itemscope itemtype="https://schema.org/CreativeWork" >
    
    <meta itemprop="headline"
      content="[next.js] Context API - TabProvider를 활용한 홈 탭 상태관리">
    
    <meta itemprop="description" content="x.com의 로그인 후, 메인페이지를 보게 된다면 중앙에 ‘추천/팔로우’와 ‘내용’이 등장한다. 이때 추천/팔로우를 번갈아서 클릭 했을 때, 내용이 전환 될 필요가 존재한다.">
    
    
    <meta itemprop="datePublished" content="2026-02-11T00:00:00+00:00">
    

    <div class="page__inner-wrap">
      
      <header>
        <h1 id="page-title" class="page__title" itemprop="headline">
          <a href="https://hwp-log.github.io/next.js/2026/02/11/next.js-session-2-22gang.html" itemprop="url">[next.js] Context API - TabProvider를 활용한 홈 탭 상태관리</p>
</a>
        </h1>
        

<p class="page__meta">
    
    <span class="page__meta-date">
        <i class="far fa-fw fa-calendar-alt" aria-hidden="true"></i>
        <time datetime="2026-02-11T00:00:00+00:00">2026-02-11</time>
    </span>
    

    <!-- Hits.sh View Counter -->
    <span style="color: #7a8288; margin-left: 10px;">
        <span id="page-views" data-url="/next.js/2026/02/11/next.js-session-2-22gang.html"></span>
    </span>
</p>
      </header>
      

      <section class="page__content" itemprop="text">
        
        <p>x.com의 로그인 후, 메인페이지를 보게 된다면 중앙에 ‘추천/팔로우’와 ‘내용’이 등장한다. 이때 추천/팔로우를 번갈아서 클릭 했을 때, 내용이 전환 될 필요가 존재한다.</p>

<p>문제는 ‘추천/팔로우’와’내용’의 각 컴포넌트가 형제(병렬) 관계이기 때문에, 일반적인 props 전달로는 상태를 공유 할 수 없다는 점이다.(React는 “데이터는 위에서 아래로 흐른다.” 라는 단방향 데이터흐름 설계원칙을 가지고 있어 부모 → 자식 prop전달이 기본이다.)</p>

<h2 id="형제간의-props-공유">형제간의 Props 공유?</h2>
<p>결국 이를 해결하려면, ‘공통부모에서 상태를 내려주는 방식’이 필요하고 가장 간단한 방법으로 React의 ContextAPI를 활용하는 것이다. Redux같은 외부 라이브러리 없이 React 내장 기능만으로 해결할 수 있다.
<img src="/assets/post_images/2026-02-11/image5.png" alt="Context API 사용예시" /></p>

<h2 id="그럼-적용은-어떻게">그럼 적용은 어떻게?</h2>
<h3 id="먼저-적용되는-기술은-아래와-같다">먼저 적용되는 기술은 아래와 같다.</h3>

<ul>
  <li>React Context API — createContext로 전역 상태 저장소를 만들고, Provider로 하위 컴포넌트에 공유</li>
  <li>useState — 현재 탭 상태(“rec” 또는 “fol”)를 관리</li>
  <li>“use client” — 탭 전환은 사용자 인터랙션이므로 클라이언트 컴포넌트로 선언 필요(서버 클라이언트에선 사용불가)</li>
</ul>

<h3 id="context-api---tabprovider-작성">Context API - TabProvider 작성</h3>
<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="dl">"</span><span class="s2">use client</span><span class="dl">"</span><span class="p">;</span>

<span class="k">import</span> <span class="p">{</span> <span class="nx">ReactNode</span><span class="p">,</span> <span class="nx">createContext</span><span class="p">,</span> <span class="nx">useState</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">"</span><span class="s2">react</span><span class="dl">"</span><span class="p">;</span>

<span class="c1">// 1. Context API의 createContext로 저장소를 만든다</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">TabContext</span> <span class="o">=</span> <span class="nx">createContext</span><span class="p">({</span>
  <span class="na">tab</span><span class="p">:</span> <span class="dl">"</span><span class="s2">rec</span><span class="dl">"</span><span class="p">,</span> <span class="c1">// 현재 탭 상태</span>
  <span class="na">setTab</span><span class="p">:</span> <span class="p">(</span><span class="na">value</span><span class="p">:</span> <span class="dl">"</span><span class="s2">rec</span><span class="dl">"</span> <span class="o">|</span> <span class="dl">"</span><span class="s2">fol</span><span class="dl">"</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{},</span> <span class="c1">// 탭 전환 함수 ("rec" 추천 | "fol" 팔로우)</span>
<span class="p">});</span>

<span class="kd">type</span> <span class="nx">Props</span> <span class="o">=</span> <span class="p">{</span> <span class="na">children</span><span class="p">:</span> <span class="nx">ReactNode</span><span class="p">};</span>

<span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">TabProvider</span><span class="p">({</span> <span class="nx">children</span> <span class="p">}:</span> <span class="nx">Props</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">tab</span><span class="p">,</span> <span class="nx">setTab</span><span class="p">]</span> <span class="o">=</span> <span class="nx">useState</span><span class="p">(</span><span class="dl">"</span><span class="s2">rec</span><span class="dl">"</span><span class="p">);</span>

  <span class="k">return</span> <span class="p">(</span>
    <span class="c1">// 2. Context API의 Provider를 활용해서 TabProvider 컴포넌트를 만듦 </span>
    <span class="p">&lt;</span><span class="nc">TabContext</span><span class="p">.</span><span class="nc">Provider</span> <span class="na">value</span><span class="p">=&gt;</span> <span class="si">{</span><span class="cm">/* value = 공유 props */</span><span class="si">}</span>
      <span class="si">{</span><span class="nx">children</span><span class="si">}</span> <span class="si">{</span><span class="cm">/* children = &lt;Tab /&gt;, &lt;Post /&gt; 등 형제 컴포넌트들 */</span><span class="si">}</span>
    <span class="p">&lt;/</span><span class="nc">TabContext</span><span class="p">.</span><span class="nc">Provider</span><span class="p">&gt;</span>
  <span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>
<p>1의 경우, API 호출을 통한 TabContext를 설정해준다. Props의 기본값과 전환될 값을 설정해준다.<br />
2의 경우, 적용될 컴포넌트를 감싸준다 (value값: 스위칭 될 Props)</p>

<h3 id="homepagetsx에서의-적용">home/page.tsx에서의 적용</h3>
<div class="language-tsx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="k">default</span> <span class="kd">function</span> <span class="nx">Home</span><span class="p">()</span> <span class="p">{</span>
  <span class="k">return</span> <span class="p">(</span>
    <span class="p">&lt;</span><span class="nt">main</span><span class="p">&gt;</span>
      홈페이지
    <span class="p">&lt;</span><span class="nt">main</span> <span class="na">className</span><span class="p">=</span><span class="si">{</span><span class="nx">style</span><span class="p">.</span><span class="nx">main</span><span class="si">}</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nc">TabProvider</span><span class="p">&gt;</span> <span class="si">{</span><span class="cm">/* 적용될 컴포넌트를 감싼다.*/</span><span class="si">}</span>
        <span class="p">&lt;</span><span class="nc">Tab</span><span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Post</span><span class="p">/&gt;</span> 
        <span class="p">&lt;</span><span class="nc">Post</span><span class="p">/&gt;</span>
        <span class="p">&lt;</span><span class="nc">Post</span><span class="p">/&gt;</span>
      <span class="p">&lt;/</span><span class="nc">TabProvider</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">main</span><span class="p">&gt;</span>
  )
}
</code></pre></div></div>
<p>Tab 컴포넌트에서 Props: rec,fol을 받으면,Post는 Props에 따라 내용을 전환해준다.</p>

<h2 id="적용-결과">적용 결과</h2>

<p><img src="/assets/post_images/2026-02-11/image6.png" alt="하드코딩 결과" /></p>

<p>아직은 상태 받는쪽의 tab.tsx에서 설정을 안해주었기에 전환은 안되는상태. 프레임만 잡았다고 생각하자.</p>

        
      </section>

      <footer class="page__meta">
        
        


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2026-02-11T00:00:00+00:00">2026-02-11</time></p>

      </footer>

      

      
  <nav class="pagination">
    
      <a href="/next.js/2026/02/11/next.js-session-2-21gang.html" class="pagination--pager" title="[next.js] x-com의 나를 위한 트렌드 메뉴 만들기">Previous</a>
    
    
      <a href="/next.js/2026/02/12/next.js-session-2-23gang.html" class="pagination--pager" title="[next.js] x-com의 홈 메뉴 컨텐츠 소비 기능 만들기(모달편)">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  

  <!-- Hits.sh View Counter Script -->
  <script>
    (function () {
      var viewElement = document.getElementById('page-views');
      if (!viewElement) return;

      var pageUrl = viewElement.getAttribute('data-url');

      // 배지 이미지 (숫자 + views 라벨)
      var img = document.createElement('img');
      img.src = 'https://hits.sh/hwp-log.github.io' + pageUrl + '.svg?view=total&style=flat-square&label=views&color=f8f8f8&labelColor=f8f8f8&hit=000000';
      img.alt = 'Views';
      img.style.verticalAlign = 'middle';
      img.style.height = '18px';

      viewElement.appendChild(img);
    })();
  </script>
</div>
      
    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        

<div class="page__footer-follow">
  <ul class="social-icons">
    

    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>


<div class="page__footer-copyright">&copy; 2026 <a href="https://hwp-log.github.io">Engineering Log</a>. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/jekyll-themes/minimal-mistakes/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>









  </body>
</html>
